<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.0">
    <meta name="project" content="Elixir For Data Science v0.1.0">

      <meta name="author" content="Joey Bellerose, Phillip Ramon">

    <title>Chapter 3 - Data Visualization — Elixir For Data Science v0.1.0</title>
    <link rel="stylesheet" href="dist/html-elixir-2YOS5DIE.css" />

    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-X7YVL3G2.js"></script>
    <script src="dist/sidebar_items-E3E5265C.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/html-XN2TSG4M.js"></script>


  </head>
  <body data-type="extras" class="page-livemd">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="">
        <img src="assets/logo.png" alt="Elixir For Data Science" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="" class="sidebar-projectName" translate="no">
Elixir For Data Science
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v0.1.0
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">Chapters</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="settings display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>


    <a href="" title="View Source" class="view-source" rel="help">
      <i class="ri-code-s-slash-line" aria-hidden="true"></i>
      <span class="sr-only">View Source</span>
    </a>

  <span>Chapter 3 - Data Visualization</span>
</h1>

  <div class="livebook-badge-container">
    <a href="#" class="livebook-badge">
      <img src="https://livebook.dev/badge/v1/blue.svg" alt="Run in Livebook" width="150" />
    </a>
  </div>

<pre><code class="makeup elixir" translate="no"><span class="nc">Mix</span><span class="o">.</span><span class="n">install</span><span class="p" data-group-id="7444237124-1">(</span><span class="p" data-group-id="7444237124-2">[</span><span class="w">
  </span><span class="p" data-group-id="7444237124-3">{</span><span class="ss">:explorer</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.3.1&quot;</span><span class="p" data-group-id="7444237124-3">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="7444237124-4">{</span><span class="ss">:vega_lite</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.1.6&quot;</span><span class="p" data-group-id="7444237124-4">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="7444237124-5">{</span><span class="ss">:kino</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.7.0&quot;</span><span class="p" data-group-id="7444237124-5">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="7444237124-6">{</span><span class="ss">:kino_vega_lite</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;~&gt; 0.1.6&quot;</span><span class="p" data-group-id="7444237124-6">}</span><span class="w">
</span><span class="p" data-group-id="7444237124-2">]</span><span class="p" data-group-id="7444237124-1">)</span></code></pre><h2 id="3-0-introduction" class="section-heading">
  <a href="#3-0-introduction" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-0-introduction</p>
  </a>
  3.0 - Introduction
</h2>
<h3 id="what-is-data-visualization" class="section-heading">
  <a href="#what-is-data-visualization" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">what-is-data-visualization</p>
  </a>
  What is Data Visualization?
</h3>
<p>Storytelling is at the heart of Data Visualization. Regardless of the type of information or data, there is always a story to tell. Thus, Data Visualization could be defined as the art of using graphics, driven by data, as a method of communication that provides insight and conveys understanding.  The means by which you consume the information can be either static or dynamic (i.e. interactive). Below are a few examples of types of visualizations you might create.</p><ul><li><a href="https://observablehq.com/@rreusser/online-outlier-detection">Outliers</a> — Outliers identify data that is outside the &quot;norm&quot; of what you'd expect to see.  Using different colors is a great way to highlight potential outlier data points.</li></ul><p><img src="images/3.1-outliers.png" alt=""/></p><ul><li><a href="https://vega.github.io/vega-lite/examples/layer_point_line_regression.html">Trends or Relationships</a> — Regressions lines (red below) help the reader understand how strong or weak the relationship between multiple variables (i.e. <code class="inline">x</code> and <code class="inline">y</code>) can be.</li></ul><p><img src="images/3.1-trends.png" alt=""/></p><ul><li><a href="https://vega.github.io/vega-lite/examples/geo_circle.html">Groups or Clusters</a> - Clusters help you identify sub-groups within your datasets.  Color can provide clarity where you may not have seen it before by showing how information is grouped.</li></ul><p><img src="images/3.1-clusters.png" alt=""/></p><ul><li><a href="https://observablehq.com/@jlmborges/rank-plot_vega-lite">Rankings</a> — Line charts can be used to help show how the order of data may change over time.</li></ul><p><img src="images/3.1-rankings.png" alt=""/></p><ul><li><a href="https://vega.github.io/vega-lite/examples/interactive_layered_crossfilter.html">Interactions</a> — Interactivity is a great way to allow your end user to engage with the data and ask their questions.</li></ul><p><img src="images/3.1-interactions.mp4" alt=""/></p><h3 id="what-is-the-purpose-of-data-visualization" class="section-heading">
  <a href="#what-is-the-purpose-of-data-visualization" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">what-is-the-purpose-of-data-visualization</p>
  </a>
  What is the Purpose of Data Visualization?
</h3>
<p>Visualizing data is built around the idea of simplifying the complex. Have you ever tried explaining how something a complicated concept to anyone else? It rarely goes well. The best way to show your concept is by creating a visual representation of what you are describing.  This makes it is easier for others to digest your concept. A picture, or in this case a chart, is worth more than a thousand words.</p><h3 id="how-does-data-visualization-fit-in-data-science" class="section-heading">
  <a href="#how-does-data-visualization-fit-in-data-science" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">how-does-data-visualization-fit-in-data-science</p>
  </a>
  How Does Data Visualization Fit In Data Science?
</h3>
<p>While it may appear that Data Visualization primarily falls within the Communicate section of the Data Science flow diagram in <a href="https://r4ds.had.co.nz/introduction.html">R4DS</a> (seen below), it is actually used throughout the whole process. The only thing that is different is the audience. You will want constant feedback along the way while you are experimenting with the data.  Your end user is typically only interested in the results or the end product.</p><p><img src="https://d33wubrfki0l68.cloudfront.net/571b056757d68e6df81a3e3853f54d3c76ad6efc/32d37/diagrams/data-science.png" alt=""/></p><p>Below are 3 scenarios for visualizing data throughout the Data Science process.</p><p>1). Before you can build cool charts, you must first get familiar with your data. Below are a few questions you may need to answer:</p><ul><li>How many <code class="inline">blanks</code> or <code class="inline">nulls</code> are in each column?</li><li>What data types are in a particular column (i.e., string, int, float, etc…)?</li><li>What data is missing?</li><li>Is there enough data in a column to even use it?</li><li>Are there columns that could be combined/extracted for better clarity?</li></ul><p>2). When you’re working with models, you will definitely want to see how well the models represent the data. Below are 2 different types of regressions that work slightly different.</p><ul><li>Linear Regression</li></ul><p><img src="images/3.1-linearregression.png" alt=""/></p><ul><li>Loess Regression (Non-Linear)</li></ul><p><img src="images/3.1-loessregression.png" alt=""/></p><p>3). After you’ve selected a model, you will want to know how well it is performing at predicting future events.</p><ol><li>For regressions, you may want the R2, as shown in the linear regression above.</li><li>For classification, you may want to see the ROC (Receiver Operating Characteristic) curve.</li></ol><p><img src="images/3.1-roccurve.png" alt=""/></p><h2 id="3-1-getting-started" class="section-heading">
  <a href="#3-1-getting-started" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-1-getting-started</p>
  </a>
  3.1 - Getting Started
</h2>
<h3 id="what-library-are-you-going-to-use" class="section-heading">
  <a href="#what-library-are-you-going-to-use" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">what-library-are-you-going-to-use</p>
  </a>
  What Library Are You Going To Use?
</h3>
<p>Going forward, you will be using the Vega-Lite library to create all our charts and graphics. Vega-Lite describes themselves as “A High-Level Grammar of Interactive Graphics”. What does that mean? Let’s break it down into 3 sections.</p><p>1). What is High-Level?</p><p>High-level is in relation to other graphic libraries (i.e. Vega and D3.js). Both are libraries that Vega-Lite is built upon. The “level” refers to the detail and code needed to generate a graph. Vega-Lite requires far less code than either of the other libraries.</p><p>2). What is the &quot;Grammar of Graphics&quot;?</p><p>Grammar of Graphics is a framework to approach the creation of graphics by breaking every chart down into its most basic building blocks. This approach was originally popularized by Leeland Wilkinson in his book titled “The Grammar of Graphics”.</p><p>Below is an image depicting the primary layers used to create a chart using the Grammar of Graphics framework.</p><p><img src="images/3.1-grammarofgraphics.png" alt=""/></p><p>The benefit here is that instead of describing how to create your chart (e.g. calculating where to position each element), you describe what you want to see. Simply pass the data and tell the framework what to visualize. For example, there is no need to figure out how to calculate different coordinate types (Linear, Circular, and Map) as shown below.</p><ul><li><a href="https://vega.github.io/vega-lite/examples/point_color_with_shape.html">Linear</a></li></ul><p><img src="images/3.1-linearcoord.png" alt=""/></p><ul><li><a href="https://vega.github.io/vega-lite/examples/arc_radial.html">Circular</a></li></ul><p><img src="images/3.1-circularcoord.png" alt=""/></p><ul><li><a href="https://vega.github.io/vega-lite/examples/geo_choropleth.html">Map</a></li></ul><p><img src="images/3.1-mapcoord.png" alt=""/></p><p>3). What About Interactivity?</p><p>The Vega-Lite team has extended the original Grammar of Graphics to include a layer for interactivity. They define their building blocks for interaction as <a href="https://vega.github.io/vega-lite/docs/parameter.html">Parameters</a>. Parameters can be either simple variables that change a specific feature or complex selections as shown below.</p><ul><li>Simple Variable</li></ul><p><img src="images/3.1-simplevariable.mp4" alt=""/></p><ul><li>Complex Selection</li></ul><p><img src="images/3.1-complexselection.mp4" alt=""/></p><p>5 of the most common building blocks you’ll use in VegaLite are:</p><ol><li>Data — Read information in</li><li>Scales — Transform the data into the right domain</li><li>Axes — Define the lines, ticks, and labels</li><li>Legends — Provide context to the visuals</li><li>Marks — Specify the shape to be displayed</li></ol><h3 id="how-do-you-get-started" class="section-heading">
  <a href="#how-do-you-get-started" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">how-do-you-get-started</p>
  </a>
  How Do You Get Started?
</h3>
<p>Before you can get started, you will need to first install a few packages for Elixir.</p><ul><li>VegaLite — Create charts</li><li>Kino_Vega_Lite — Makes VegaLite render in Livebook</li><li>Kino — Interactive Livebook widgets</li><li>Explorer — Manipulate and clean data with DataFrames</li></ul><p>With Livebook, installation is simple. All you need to do is search for the packages you want and the click the “Setup” button to install them.</p><p><img src="images/3.1-installpackages.mp4" alt=""/></p><blockquote><p>Note {: .tip}
The <a href="https://hexdocs.pm/vega_lite/VegaLite.html">VegaLite</a> package is a simple wrapper around the original <a href="https://vega.github.io/vega-lite/">Vega-Lite</a> JavaScript library so that the Elixir community did not have to re-create it from scratch.</p></blockquote><h3 id="wrapping-up" class="section-heading">
  <a href="#wrapping-up" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">wrapping-up</p>
  </a>
  Wrapping Up
</h3>
<p>Data Visualization is an important process for simplifying complex ideas and allows us to communicate our findings with others and ourselves. It is not simply for generating reports, but communication along the whole Data Science process. In the next section, we’ll be looking at how to get started with reading data into Livebook and then making a basic chart.</p><h2 id="3-2-first-steps" class="section-heading">
  <a href="#3-2-first-steps" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-2-first-steps</p>
  </a>
  3.2 - First Steps
</h2>
<h3 id="what-is-the-goal-for-this-section" class="section-heading">
  <a href="#what-is-the-goal-for-this-section" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">what-is-the-goal-for-this-section</p>
  </a>
  What Is The Goal For This Section?
</h3>
<p>The goal for this section is for you to be able to create the same chart from a local data source (csv file on your computer) and an external data source (csv file on the web).</p><blockquote><h4>Note</h4><p>Smart Cells require your data to be stored locally.  You will not be able to directly use external data sources with Smart Cell features (as of 2022-11-04).</p></blockquote><h3 id="what-do-you-need" class="section-heading">
  <a href="#what-do-you-need" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">what-do-you-need</p>
  </a>
  What Do You Need?
</h3>
<p>To get started, you’ll be using the <code class="inline">mpg</code> dataset which can be found <a href="https://vincentarelbundock.github.io/Rdatasets/csv/ggplot2/mpg.csv">here</a>. If your unfamiliar with this dataset, you can read the <a href="https://vincentarelbundock.github.io/Rdatasets/doc/ggplot2/mpg.html">documentation</a> which describes the MPG dataset and gives greater detail as to what each variable is.</p><p>Go ahead and download the MPG csv to a folder on your hard drive. It doesn't matter where you put it, just make sure you can get to it. You can then create a variable for the file location. For example:</p><pre><code class="makeup elixir" translate="no"><span class="n">mpg_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;</span><span class="si" data-group-id="8354313040-1">#{</span><span class="bp">__DIR__</span><span class="si" data-group-id="8354313040-1">}</span><span class="s">/data/mpg.csv&quot;</span></code></pre><h3 id="reading-local-data" class="section-heading">
  <a href="#reading-local-data" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">reading-local-data</p>
  </a>
  Reading Local Data
</h3>
<h4>What is a DataFrame?</h4><p>Before you can work with your CSV file you will need to know what a <code class="inline">DataFrame</code> is. According to Databricks, a DataFrame is “a data structure that organizes data into a 2-dimensional table of rows and columns.”. You can consider DataFrames to be a table in a spreadsheet without the Graphical User Interface (GUI). Each column is considered a variable (or field) and each row is considered a record (or observation). A DataFrame is the fundamental data structure that Data Scientists use to manipulate, transform, and even model data.</p><h4>How Can You Create a DataFrame?</h4><p>To work with DataFrames in Elixir, you will need to use the <a href="https://hexdocs.pm/explorer/Explorer.html">Explorer</a> package. Explorer allows you to read data from different formats (e.g., CSV, Text, Parquet, etc.) into a DataFrame for further work. Explorer is built upon the Rust package <a href="https://pola-rs.github.io/polars-book/user-guide/">Polars</a>, which is one of the fastest DataFrame libraries around. Below are a few tables and charts of stats to show you how Polars compares to many other DataFrame libraries.</p><p><img src="https://h2oai.github.io/db-benchmark/groupby/G1_1e9_1e2_0_0_basic.png" alt=""/></p><blockquote><h4>Note</h4><p>You can find more Polars benchmarks <a href="https://www.pola.rs/benchmarks.html">here</a>.</p></blockquote><p>Explorer will give you plenty of horsepower to manipulate, change and edit your data however you see fit by building upon one of the most powerful DataFrame libraries around.</p><p>Like with most libraries in Elixir, you will probably want to <code class="inline">alias</code> in your package, so you don’t have to write <code class="inline">Explorer.DataFrame</code> or <code class="inline">Explorer.Series</code> every time.</p><p>Let's start with a little bit of code.</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">Explorer</span><span class="o">.</span><span class="p" data-group-id="3579817367-1">{</span><span class="nc">DataFrame</span><span class="p">,</span><span class="w"> </span><span class="nc">Series</span><span class="p" data-group-id="3579817367-1">}</span></code></pre><p>Explorer makes creating DataFrames simple and straightforward. To create your MPG DataFrame, use the <code class="inline">from_csv!()</code> function and give it the <code class="inline">mpg_file</code> variable you created earlier.</p><pre><code class="makeup elixir" translate="no"><span class="n">mpg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">DataFrame</span><span class="o">.</span><span class="n">from_csv!</span><span class="p" data-group-id="3241549013-1">(</span><span class="n">mpg_file</span><span class="p" data-group-id="3241549013-1">)</span></code></pre><p>You should see a Livebook output should look something like this:</p><p><img src="images/3.2-df_output.png" alt=""/></p><blockquote><h4>Note</h4><ol><li>Explorer automatically shows you the number of rows and columns in the top-left corner. For example, the MPG DataFrame above has 234 rows and 12 columns (234 × 12).</li><li>The red box (above) shows that the first column name happens to be blank. This no-named column is supposed to be the row ID. This shows up blank because Polars (and Explorer) is a column-oriented DataFrame rather than a row-oriented DataFrame where row IDs matter. You can read more about how Polars differs from the “typical” DataFrame libraries like Pandas <a href="https://pola-rs.github.io/polars-book/user-guide/coming_from_pandas.html">here</a>.</li></ol></blockquote><h3 id="using-smart-cells-to-create-plots" class="section-heading">
  <a href="#using-smart-cells-to-create-plots" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">using-smart-cells-to-create-plots</p>
  </a>
  Using Smart Cells to Create Plots
</h3>
<h4>What Are Smart Cells?</h4><p>Smart Cells are an option for you to create some predefined functionality in Livebook with no code. Where the <a href="https://hexdocs.pm/elixir/Code.html"><code class="inline">Code</code></a> button lets you write code and <code class="inline">Block</code> button lets us write Markdown, the <code class="inline">Smart</code> button provide a GUI to create a Smart Cell.</p><p><img src="images/3.2-cell_block.png" alt=""/></p><p>Smart Cells can do multiple things like create charts, connect to databases, create maps and generate SQL queries.</p><p><img src="images/3.2-smart_cell_list.png" alt=""/></p><p>For this use case, you’ll be using the <code class="inline">Chart</code> option.</p><h3 id="how-do-smart-cells-work" class="section-heading">
  <a href="#how-do-smart-cells-work" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">how-do-smart-cells-work</p>
  </a>
  How Do Smart Cells Work?
</h3>
<p>As you begin to dig into the <code class="inline">mpg</code> DataFrame, say you want to understand the relationship between engine displacement and highway miles per gallon. To accomplish that, you’re going to want to create a Scatterplot that shows <code class="inline">displ</code> on the x-axis and <code class="inline">hwy</code> on the y-axis.</p><p>To get started, simply click on the <code class="inline">Chart</code> option shown below.</p><p><img src="images/3.2-smart_cell_arrow.png" alt=""/></p><p>You should be presented with a form that looks like this:</p><p><img src="images/3.2-smart_chart_form.png" alt=""/></p><p>To create the chart, simply change the <code class="inline">x</code> and <code class="inline">y</code> fields to <code class="inline">displ</code> and <code class="inline">hwy</code> as well as the types to <code class="inline">quantitative</code>, and click <code class="inline">Evaluate</code> in the top-left corner to generate the chart.</p><p><img src="images/3.2-smart_chart_arrows.png" alt=""/></p><p>You should now see a chart below your Smart Cell like this:</p><p><img src="images/3.2-smart_chart_output.png" alt=""/></p><h3 id="what-are-the-benefits-of-smart-cells" class="section-heading">
  <a href="#what-are-the-benefits-of-smart-cells" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">what-are-the-benefits-of-smart-cells</p>
  </a>
  What Are The Benefits of Smart Cells?
</h3>
<p>The beauty of Smart Cells is you don’t need to know anything about creating charts (or even writing Elixir) to start generating great-looking charts. In addition, Smart Cells have these cool buttons, on the top right, that, when clicked, will actually let you see the underlying code that was generated for you.</p><p><img src="images/3.2-live_smart_chart.mp4" alt=""/></p><p>Playing around and seeing what code is generated is a great way to start learning how to use the VegaLite library.</p><blockquote><h4>Note</h4><p>As of the time of this writing, Smart Cells require that your data must be saved on your computer. There is an <a href="https://github.com/livebook-dev/kino_vega_lite/issues/17">issue</a> on the kino_vega_lite repository to add external data sources.</p></blockquote><h3 id="reading-external-data" class="section-heading">
  <a href="#reading-external-data" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">reading-external-data</p>
  </a>
  Reading External Data
</h3>
<p>External data sources are those that are not located directly on your computer. For instance, the R community has an excellent collection of datasets <a href="https://vincentarelbundock.github.io/Rdatasets/datasets.html">here</a>. Each dataset has a link to the CSV file and documentation that describes the data as well as define what each variable is. For your next step, remake the same chart using the same dataset that is now located externally.</p><h4>Step 0 — Setup</h4><p>You already brought VegaLite into your environment in the last section when you installed it. To save yourself from typing <code class="inline">VegaLite</code> every time you want to use a function you can <code class="inline">alias</code> the package as <code class="inline">Vl</code>. Your code will look like this:</p><pre><code class="makeup elixir" translate="no"><span class="kn">alias</span><span class="w"> </span><span class="nc">VegaLite</span><span class="p">,</span><span class="w"> </span><span class="ss">as</span><span class="p">:</span><span class="w"> </span><span class="nc">Vl</span></code></pre><h4>Step 1 — Find Data Source</h4><p>You’re going to create a variable, <code class="inline">mpg_url</code>, with the url for the MPG dataset from the collection R datasets mentioned above.</p><pre><code class="makeup elixir" translate="no"><span class="n">mpg_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://vincentarelbundock.github.io/Rdatasets/csv/ggplot2/mpg.csv&quot;</span></code></pre><h4>Step 2 — Create a New Chart</h4><p>When using VegaLite, the first step is always to define a new chart with the <code class="inline">Vl.new()</code> function.</p><blockquote><h4>Note</h4><p>This is also where you can pass the width and height parameters to define the width and height of the chart.
For this chart, your code should look like this:</p></blockquote><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="3911798109-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p" data-group-id="3911798109-1">)</span></code></pre><h4>Step 3 — Add Data</h4><p>Instead of downloading, you can let the VegaLite package handle that for you with the <code class="inline">Vl.data_from_url()</code> function. All you need to pass the <code class="inline">mpg_url</code> variable to where the data is hosted. When completed your code for this step should look like this:</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_url</span><span class="p" data-group-id="6766130874-1">(</span><span class="n">mpg_url</span><span class="p" data-group-id="6766130874-1">)</span></code></pre><h4>Step 4 — Define the Chart Type</h4><p>No chart can be created without specifying the mark type. Marks are used to specify the shapes to create any chart and can be created with the <code class="inline">Vl.mark()</code> function. There are a <a href="https://vega.github.io/vega-lite/docs/mark.html">multitude of marks</a> you can use, but today the <code class="inline">:point</code> type is what we need. When completed, the code should look like this:</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="4028895318-1">(</span><span class="ss">:point</span><span class="p" data-group-id="4028895318-1">)</span></code></pre><h4>Step 5 — Encode Data to X</h4><p>In order for any encoding to work properly, you need to specify a variable from your dataset and what type that variable is. It is possible to ignore the type, but you may get some wonky results. This is due to Vega-Lite defaulting to a <code class="inline">:nominal</code> (string or category) data type. For this example, you want to define <code class="inline">x</code> as <code class="inline">displ</code> and define its data type as <code class="inline">:quantitative</code>. Your code should look like this:</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="5251432894-1">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="5251432894-1">)</span></code></pre><h4>Step 6 — Encode Data to Y</h4><p>For Y you can follow the same process as X except that the variable you need to encode is <code class="inline">hwy</code>. Your code should look like this:</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="0263261372-1">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="0263261372-1">)</span></code></pre><h4>Step 7 — Combine It Together</h4><p>That’s it! Because Elixir is a functional language that uses pipes (|&gt;), you simply combine the steps together much like you would a baking recipe. The whole things should look like this:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="2569529180-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p" data-group-id="2569529180-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_url</span><span class="p" data-group-id="2569529180-2">(</span><span class="n">mpg_url</span><span class="p" data-group-id="2569529180-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="2569529180-3">(</span><span class="ss">:point</span><span class="p" data-group-id="2569529180-3">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="2569529180-4">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="2569529180-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="2569529180-5">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="2569529180-5">)</span></code></pre><blockquote><h4>Note</h4><p>Elixir uses the pipe operator (|&gt;) to pass the output of one step to the input of the next step. This saves you from having to create intermediate variable names and makes your code more concise, and readable by showing the transformation of data from top to bottom.</p></blockquote><h4>Vega-Lite Template to Follow</h4><p>VegaLite has a typical pattern it expects and follows. Below is an example showing the normal “recipe” use to create a chart.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="4367921275-1">(</span><span class="p" data-group-id="4367921275-1">)</span><span class="w"> </span><span class="c1"># Initialize a Vega-Lite Chart</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_</span><span class="o">*</span><span class="p" data-group-id="4367921275-2">(</span><span class="n">data</span><span class="p" data-group-id="4367921275-2">)</span><span class="w"> </span><span class="c1"># Read in data</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">transform</span><span class="p" data-group-id="4367921275-3">(</span><span class="p" data-group-id="4367921275-3">)</span><span class="w"> </span><span class="c1"># Manipulate the data - optional</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">param</span><span class="p" data-group-id="4367921275-4">(</span><span class="p" data-group-id="4367921275-4">)</span><span class="w"> </span><span class="c1"># Add interactivity - optional</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="4367921275-5">(</span><span class="ss">:mark</span><span class="p" data-group-id="4367921275-5">)</span><span class="w"> </span><span class="c1"># Specify the shape used</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="4367921275-6">(</span><span class="ss">:var</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;field_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="4367921275-6">)</span><span class="w"> </span><span class="c1"># Encode channels (:x, :y, etc...) with specific fields from the dataset</span><span class="w">
</span><span class="n">...</span><span class="w"> </span><span class="c1"># encode as many channels as you wish</span></code></pre><h4>Wrapping Up</h4><p>Congratulations! You just created your first DataFrame and Chart! Now that you know how to use Smart Cells, you can create great-looking charts without coding. This can be a great way to learn how the library works, and a great starting place to customize further. You finished up by creating your own chart from scratch that used an external data source.</p><p>In the next section you’ll learn how to work with encoding different <a href="https://vega.github.io/vega-lite/docs/encoding.html#channels">channels</a> (i.e., x, y, color, size, etc…) in a chart.</p><h2 id="3-3-encoding-channels" class="section-heading">
  <a href="#3-3-encoding-channels" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-3-encoding-channels</p>
  </a>
  3.3 - Encoding Channels
</h2>
<h3 id="introduction" class="section-heading">
  <a href="#introduction" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">introduction</p>
  </a>
  Introduction
</h3>
<p>Any chart, on it's own, can be pretty boring and lifeless. This can lead to the reader not understanding your point. They need a splash of color or an explosion of size to start taking shape and bring understanding. In Vega-Lite, much of the look and feel of any graphic comes from adding data to channels. Doing this will breathe life into your data and help give it some shape. Great…but what are channels?</p><p><a href="https://vega.github.io/vega-lite/docs/encoding.html#channel-definition">Channels</a> are the visual properties of a chart (like size, shape, and color) you <a href="https://vega.github.io/vega-lite/docs/encoding.html">encode</a> with your data. Said another way, channels are where you can customize your chart with your data. To aid you in this task, Vega-Lite provides you with numerous channels to use for chart creation.</p><p>In this section you will go over encoding data points in charts, in order to assist in communicating a more specific visual narrative, through manipulating channels, specifically:</p><ol><li>Color</li><li>Shape</li><li>Size</li><li>Opacity</li><li>Conditional Formatting</li></ol><p>To run these examples you will you need to install the following Elixir packages:</p><ul><li>explorer</li><li>vega_lite</li><li>kino</li><li>kino_vega_lite</li></ul><p>The typical code structure for a chart can be automated using Smart Charts in Elixir</p><p><img src="images/3.3-create_smart_charts.gif" alt=""/></p><p>This will leave you with the following code:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="1540899668-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Code Template&quot;</span><span class="p" data-group-id="1540899668-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="1540899668-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1540899668-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p" data-group-id="1540899668-3">]</span><span class="p" data-group-id="1540899668-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="1540899668-4">(</span><span class="ss">:point</span><span class="p" data-group-id="1540899668-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="1540899668-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="1540899668-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="1540899668-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="1540899668-6">)</span></code></pre><p><img src="images/3.3-code_template.png" alt=""/></p><p>In this Section you will be focusing on changing the following line of code below that needs to be added to the template above:</p><pre><code class="makeup elixir" translate="no"><span class="c1">#Vl.new(width: 400, title: &quot;Code Template&quot;)</span><span class="w">
</span><span class="c1">#|&gt; Vl.data_from_values(mpg, only: [&quot;displ&quot;, &quot;hwy&quot;])</span><span class="w">
</span><span class="c1">#|&gt; Vl.mark(:point)</span><span class="w">
</span><span class="c1">#|&gt; Vl.encode_field(:x, &quot;displ&quot;, type: :quantitative)</span><span class="w">
</span><span class="c1">#|&gt; Vl.encode_field(:y, &quot;hwy&quot;, type: :quantitative)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">VL</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="2994101617-1">(</span><span class="ss">:XXXX</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="2994101617-1">)</span></code></pre><p>...where the XXXX above is used to encode channels (i.e. Shape, Opacity, etc.).</p><blockquote><h4>Note</h4><p>Other types of marks can be found here</p></blockquote><h3 id="1-color" class="section-heading">
  <a href="#1-color" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">1-color</p>
  </a>
  1) Color
</h3>
<p>Smart Cells are a great way to create charts with minimal effort.  Once created, you can convert them to code to further customize.  The Chart Smart Cell is what you'll use below to color the <code class="inline">mpg</code> dataset by <code class="inline">class</code>.</p><p><img src="images/3.3-color.gif" alt=""/></p><p>Converting the above smart cell Chart will leave you with the following code:</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="4321584876-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Color by Class&quot;</span><span class="p" data-group-id="4321584876-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="4321584876-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="4321584876-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="4321584876-3">]</span><span class="p" data-group-id="4321584876-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="4321584876-4">(</span><span class="ss">:point</span><span class="p" data-group-id="4321584876-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="4321584876-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="4321584876-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="4321584876-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="4321584876-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="4321584876-7">(</span><span class="ss">:color</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="4321584876-7">)</span></code></pre><p><img src="images/3.3-color.png" alt=""/></p><p>There can also be times where you need to change all of the datapoints to a single color (i.e.&quot;black&quot;).  In order to do so, you will need to change the following line of code from...</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9306517946-1">(</span><span class="ss">:color</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="9306517946-1">)</span></code></pre><p>...to</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode</span><span class="p" data-group-id="7180479216-1">(</span><span class="ss">:color</span><span class="p">,</span><span class="w"> </span><span class="ss">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;black&quot;</span><span class="p" data-group-id="7180479216-1">)</span></code></pre><p>Your code should now look like the code below.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="7846506119-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Color All Points Black&quot;</span><span class="p" data-group-id="7846506119-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="7846506119-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="7846506119-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="7846506119-3">]</span><span class="p" data-group-id="7846506119-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="7846506119-4">(</span><span class="ss">:point</span><span class="p" data-group-id="7846506119-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="7846506119-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="7846506119-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="7846506119-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="7846506119-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode</span><span class="p" data-group-id="7846506119-7">(</span><span class="ss">:color</span><span class="p">,</span><span class="w"> </span><span class="ss">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;black&quot;</span><span class="p" data-group-id="7846506119-7">)</span></code></pre><p><img src="images/3.3-color_black.png" alt=""/></p><blockquote><h4>Note</h4><p>Vl.encode_field is changed to Vl.encode().  This is due to the &quot;_field,&quot; part of the code is shorthand for the encode funtion that uses the field parameter. Since we are not using a field from the dataset to color the points black part of the code (&quot;_field&quot;) is not helpful. Use the more generic encode function by removing &quot;_field,&quot; as shown above.  You can read more about it in the <a href="https://hexdocs.pm/vega_lite/VegaLite.html#encode_field/4">documentation</a>.</p></blockquote><p>To the create filled in circles as opposed hollow circles simply change the <code class="inline">:point</code> mark to <code class="inline">:circle</code>.  Your code will then look like this.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="8093357554-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Color Fill All Points Black&quot;</span><span class="p" data-group-id="8093357554-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="8093357554-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8093357554-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="8093357554-3">]</span><span class="p" data-group-id="8093357554-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="8093357554-4">(</span><span class="ss">:circle</span><span class="p" data-group-id="8093357554-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="8093357554-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="8093357554-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="8093357554-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="8093357554-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode</span><span class="p" data-group-id="8093357554-7">(</span><span class="ss">:color</span><span class="p">,</span><span class="w"> </span><span class="ss">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;black&quot;</span><span class="p" data-group-id="8093357554-7">)</span></code></pre><p><img src="images/3.3-color_black_circles.png" alt=""/></p><h3 id="2-shape" class="section-heading">
  <a href="#2-shape" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">2-shape</p>
  </a>
  2) Shape
</h3>
<p>Working from the chart created with the Smart Cells, you can change the <code class="inline">:shape</code> instead of <code class="inline">:color</code> by changing one line of code.  Change</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9503778263-1">(</span><span class="ss">:color</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="9503778263-1">)</span></code></pre><p>to</p><pre><code class="makeup elixir" translate="no"><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="2964417534-1">(</span><span class="ss">:shape</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="2964417534-1">)</span></code></pre><p>Your code should match the code below.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="9188979957-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Shape&quot;</span><span class="p" data-group-id="9188979957-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="9188979957-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9188979957-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="9188979957-3">]</span><span class="p" data-group-id="9188979957-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="9188979957-4">(</span><span class="ss">:point</span><span class="p" data-group-id="9188979957-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9188979957-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="9188979957-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9188979957-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="9188979957-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9188979957-7">(</span><span class="ss">:shape</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="9188979957-7">)</span></code></pre><p><img src="images/3.3-shape.png" alt=""/></p><blockquote><h4>Note</h4><p>While there are many mark types to choose from, you must use the <code class="inline">:point</code> mark when encoding the <code class="inline">:shape</code> channel.</p></blockquote><h3 id="3-size" class="section-heading">
  <a href="#3-size" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-size</p>
  </a>
  3) Size
</h3>
<p>Next up is Size. The only needed change, again, is the last line of code. You are removing <code class="inline">:shape</code> and replacing that with <code class="inline">:size</code>.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="1327672420-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Size&quot;</span><span class="p" data-group-id="1327672420-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="1327672420-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="1327672420-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="1327672420-3">]</span><span class="p" data-group-id="1327672420-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="1327672420-4">(</span><span class="ss">:point</span><span class="p" data-group-id="1327672420-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="1327672420-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="1327672420-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="1327672420-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="1327672420-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="1327672420-7">(</span><span class="ss">:size</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="1327672420-7">)</span></code></pre><p><img src="images/3.3-size.png" alt=""/></p><p>Again, to change the data points to a filled vs. hollow circles, change the mark from <code class="inline">:point</code> to <code class="inline">:circle</code>.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="3084358016-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Size With Solid Points&quot;</span><span class="p" data-group-id="3084358016-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="3084358016-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3084358016-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="3084358016-3">]</span><span class="p" data-group-id="3084358016-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="3084358016-4">(</span><span class="ss">:circle</span><span class="p" data-group-id="3084358016-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="3084358016-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="3084358016-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="3084358016-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="3084358016-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="3084358016-7">(</span><span class="ss">:size</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="3084358016-7">)</span></code></pre><p><img src="images/3.3-size_filled.png" alt=""/></p><h3 id="4-opacity" class="section-heading">
  <a href="#4-opacity" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">4-opacity</p>
  </a>
  4) Opacity
</h3>
<p>You may have noticed that Vega_lite defaults to include opacity in all of the exersizes we have already completed. However, you can specify opacity in the last line of code, substituting <code class="inline">:size</code> for <code class="inline">:opacity</code>.</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="6233955502-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Opacity&quot;</span><span class="p" data-group-id="6233955502-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="6233955502-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6233955502-3">[</span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="6233955502-3">]</span><span class="p" data-group-id="6233955502-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="6233955502-4">(</span><span class="ss">:point</span><span class="p" data-group-id="6233955502-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="6233955502-5">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="6233955502-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="6233955502-6">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="6233955502-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="6233955502-7">(</span><span class="ss">:opacity</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:nominal</span><span class="p" data-group-id="6233955502-7">)</span></code></pre><p><img src="images/3.3-opacity.png" alt=""/></p><h3 id="5-conditional-encoding" class="section-heading">
  <a href="#5-conditional-encoding" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">5-conditional-encoding</p>
  </a>
  5) Conditional Encoding
</h3>
<p>How does conditional formatting work?</p><p>Vega-Lite’s conditions may look a little different, but are simple if-then statements. Each <a href="https://vega.github.io/vega-lite/docs/condition.html">condition</a> has a test, a value and a default value. The test checks to see if a condition is true. If it is, then the value is applied. Otherwise, apply the default value.</p><p>Looking at the Opacity chart above it appears that there are outliers in the dataset. If you look at the X and Y axis the outliers are grouped where: the y-axis is greater than 20 and the x-axis is greater than 5.</p><p>In order to visually show the outliers you can isolate them by changing colors, shape, size, etc.. Let's try to isolate the outliers using color</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">new</span><span class="p" data-group-id="9812698057-1">(</span><span class="ss">width</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="ss">title</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Conditional Encoding&quot;</span><span class="p" data-group-id="9812698057-1">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">data_from_values</span><span class="p" data-group-id="9812698057-2">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="ss">only</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9812698057-3">[</span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;class&quot;</span><span class="p" data-group-id="9812698057-3">]</span><span class="p" data-group-id="9812698057-2">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">mark</span><span class="p" data-group-id="9812698057-4">(</span><span class="ss">:circle</span><span class="p" data-group-id="9812698057-4">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9812698057-5">(</span><span class="ss">:y</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hwy&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="9812698057-5">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode_field</span><span class="p" data-group-id="9812698057-6">(</span><span class="ss">:x</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;displ&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">type</span><span class="p">:</span><span class="w"> </span><span class="ss">:quantitative</span><span class="p" data-group-id="9812698057-6">)</span><span class="w">
</span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Vl</span><span class="o">.</span><span class="n">encode</span><span class="p" data-group-id="9812698057-7">(</span><span class="ss">:color</span><span class="p">,</span><span class="w">
  </span><span class="ss">condition</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="9812698057-8">%{</span><span class="ss">test</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;datum[&#39;hwy&#39;] &gt; 20 &amp; datum[&#39;displ&#39;] &gt; 5&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;red&quot;</span><span class="p" data-group-id="9812698057-8">}</span><span class="p">,</span><span class="w">
  </span><span class="ss">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;black&quot;</span><span class="w">
</span><span class="p" data-group-id="9812698057-7">)</span></code></pre><p><img src="images/3.3-conditional.png" alt=""/></p><p>One thing to notice in the code above is the use of the datum variable in your conditional test.</p><p>The datum variable represents a row in your dataset passed into VegaLite. You can access any column within the row by typing <code class="inline">datum[&quot;column_name&quot;]</code>. <a href="https://vega.github.io/vega-lite/docs/datum.html">datum</a> is commonly used in conditional encoding to specify a constant instead of a variable. It can be used anywhere you need to change how a column is handled based on its value. You'll see it used more throughout other Data Visualization sections.</p><h3 id="wrapping-up-1" class="section-heading">
  <a href="#wrapping-up-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">wrapping-up-1</p>
  </a>
  Wrapping Up
</h3>
<p>Encoding channels with your data is what brings life to the charts you make. Channels provide you the flexibility to customize to your heart's content and to help your users better understand the story you’re sharing with them. Even though you covered seven different scenarios, you only just scratched the surface of all the different channels that Vega-Lite makes available to you. Check out them out and start experimenting to see what you can come up with.</p><h2 id="3-4-help-to-common-problems" class="section-heading">
  <a href="#3-4-help-to-common-problems" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-4-help-to-common-problems</p>
  </a>
  3.4 - Help to Common Problems
</h2>
<p>What common problems can we expect to face?</p><p>Why do those problems matter?</p><p>In this section, you'll learn a few features Livebook has to help you learn code and become a more effiecint Data Scientist through the following three sections:</p><ol><li>How to find function definitions and examples without leaving Livebook</li><li>How to read and understand an error message</li><li>How to see what happening in your pipeline with <code class="inline">dbg</code></li></ol><blockquote><h4>Note</h4><p>Pipelines are the combination of multiple functions with the pipe operator (<code class="inline">|&gt;</code>):</p><pre><code class="makeup elixir" translate="no"><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nc">Super</span><span class="o">.</span><span class="n">cool</span><span class="p" data-group-id="9185664422-1">(</span><span class="n">stuff</span><span class="p" data-group-id="9185664422-1">)</span></code></pre><p>You will learn more about pipes in a future chapter.</p></blockquote><h3 id="1-how-to-find-function-definitions-and-examples-without-leaving-livebook" class="section-heading">
  <a href="#1-how-to-find-function-definitions-and-examples-without-leaving-livebook" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">1-how-to-find-function-definitions-and-examples-without-leaving-livebook</p>
  </a>
  1) How To Find Function Definitions And Examples Without Leaving Livebook
</h3>
<p>Learning a new language requires effort. Everybody understands that it is not possible to have a new program language memorized on day one. To help you learn Elixir, developers have embedded the capability to see support documetation and examples at your fingertips.  This will help you learn more effectively and accelerate your learning curve.</p><p>The typical way of finding code examples and function definitions is something like this:</p><ul><li>Do a Google search for documenation</li><li>Hope you clicked on the right version of the documentation</li><li>Comb through the documentation for the specific function that you need</li></ul><p>Elixir in Livebook allows you to:</p><ul><li>Hover over the function you type</li><li>Recieve pop-up window with the<ul><li>Function definition</li><li>Code examples</li><li>Link to the official documentation website</li></ul></li></ul><p>Check out the example below on hovering over the functions in your code.</p><p>Show <code class="inline">:color</code> by <code class="inline">class</code></p><p>Show autocomplete for function selection, then Hover over function to help decide if it is what you want</p><pre><code class="makeup elixir" translate="no"></code></pre><h3 id="2-how-to-read-and-understand-an-error-message" class="section-heading">
  <a href="#2-how-to-read-and-understand-an-error-message" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">2-how-to-read-and-understand-an-error-message</p>
  </a>
  2) How To Read And Understand An Error Message
</h3>
<p>Errors are common in all programming languages. For most programming languages, error messages are not intuitive for beginners.  They often leave you wondering what the problem is and why it is happening.</p><p>Elixir is known for having better error messages and additional tools that help you quickly diagnose and resolve the errors hidden in your code</p><h4>How is it better with Elixir?</h4><p>The Elixir team has worked hard to create readable and helpful error messages.  The community have a motto of <a href="https://elixir-lang.org/getting-started/try-catch-and-rescue.html#fail-fast--let-it-crash">failing fast</a> so that you can find errors early on before they have a chance to compound.  The capability to diagnose and resolve errors, as they occur, helps you confidently build analytical products that just work.</p><p>You can see a couple of error messages shown below.</p><p>Show <code class="inline">:color</code> by <code class="inline">class</code></p><p>Change <code class="inline">mark</code> to <code class="inline">:block</code></p><pre><code class="makeup elixir" translate="no"></code></pre><ul><li>Show iterating through a <code class="inline">tuple</code> using <code class="inline">Enum.map</code></li><li>Show error description</li><li>Show file and line location of error</li></ul><pre><code class="makeup elixir" translate="no"></code></pre><blockquote><h4>Note</h4><p>You can find the specific location of any cell by clinking on the link icon in the top right-hand corner of the Livebook cell.</p></blockquote><ul><li>Show iterating through a <code class="inline">list</code> using <code class="inline">Enum.map</code> and multiplying a letter by 3</li><li>Show error description</li><li>Show file and line location of error</li></ul><pre><code class="makeup elixir" translate="no"></code></pre><h3 id="3-how-to-see-what-happens-in-your-code-pipeline-with-dbg" class="section-heading">
  <a href="#3-how-to-see-what-happens-in-your-code-pipeline-with-dbg" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-how-to-see-what-happens-in-your-code-pipeline-with-dbg</p>
  </a>
  3) How To See What Happens In Your Code Pipeline With <code class="inline">dbg</code>
</h3>
<p>Two big reasons why beginners have a difficult time learning languages are:</p><ol><li>Knowing the syntax</li><li>Understanding what your computer is actually doing for each line of code</li></ol><p>Learning the syntax requires work and can be solved by spending time with the language.</p><p>To solve the second problem, revealing what the code is doing at each step of the way within a pipeline, Elixir developers created the <a href="https://hexdocs.pm/elixir/1.14.2/Kernel.html#dbg/2"><code class="inline">dbg</code></a> function.</p><p>Check out the two examples shown below.</p><p>Show <code class="inline">:color</code> by <code class="inline">class</code> using <code class="inline">dbg</code></p><pre><code class="makeup elixir" translate="no"></code></pre><p>Convert <code class="inline">range</code> to <code class="inline">list</code> and multiply each element by 2 using <code class="inline">dgb</code></p><pre><code class="makeup elixir" translate="no"></code></pre><blockquote><h4>Note</h4><p>We will be discussing pipeline in more depth in a futute chapter</p></blockquote><h3 id="4-livebook-keyboard-shortcuts" class="section-heading">
  <a href="#4-livebook-keyboard-shortcuts" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">4-livebook-keyboard-shortcuts</p>
  </a>
  4.) Livebook keyboard Shortcuts
</h3>
<p>As you spend more time in Livebook, you will naturally want to learn the keyboard shortcuts to speed up your analytical iterations.  Livebook provides you a keyboard button in the bottom left.  Clicking it will show a pop-up window with all the different keyboard shortcuts available to you.</p><h2 id="3-5-concatenation-and-facets" class="section-heading">
  <a href="#3-5-concatenation-and-facets" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i>
  <p class="sr-only">3-5-concatenation-and-facets</p>
  </a>
  3.5 - Concatenation And Facets
</h2>
<ul><li><p>When exploring your dataset, it can be adventageous to see charts side-by-side.</p><ul><li>Why? -&gt; See how differnt columns relate to a common variable (often your x-axis)</li><li>WHy? -&gt; Help you to quickly spot interesting trends or outliers</li></ul></li><li><p>Elxiir Concat <a href="https://hexdocs.pm/vega_lite/VegaLite.html#concat/3">documentation</a></p></li><li><p>Javascript Concat <a href="https://vega.github.io/vega-lite/docs/concat.html">documentation</a></p></li><li><p>Elixir Facet <a href="https://hexdocs.pm/vega_lite/VegaLite.html#facet/3">documentation</a></p></li><li><p>Javascript Facet <a href="https://vega.github.io/vega-lite/docs/facet.html#facet-operator">documentation</a></p></li></ul><h4>What is Concatenation?</h4><ul><li><a href="https://hexdocs.pm/vega_lite/VegaLite.html#concat/3">Concantenation</a> allows you to place 2 or more charts either side-by-side (<code class="inline">:horzontal</code>) or stacked (<code class="inline">:vertical</code>).</li><li>What scenarios would you need them?<ul><li>Allows you to compare multiple columns side-by-side</li></ul></li></ul><p>Show <a href="">side-by-side</a> charts of <code class="inline">:opacity</code> and <code class="inline">:shape</code> from Section 3.3</p><pre><code class="makeup elixir" translate="no"><span class="nc">Vl</span><span class="o">.</span><span class="n">concat</span><span class="p" data-group-id="3222256912-1">(</span><span class="p" data-group-id="3222256912-1">)</span></code></pre><h4>What Are Facets?</h4><ul><li>Why would you need them?<ul><li>Allows you to compare all the categories within a column</li><li>Say you have a chart colored by class with a bunch of data points that overlap each other and is difficult to see each color</li><li>Facets allow you to separate each category into it's own chart to have better visual clarity</li></ul></li></ul><p>Show <code class="inline">facet</code> wrap by <code class="inline">:class</code> when <code class="inline">:x</code> is <code class="inline">displ</code> and <code class="inline">:y</code> is <code class="inline">hwy</code> and <code class="inline">:color</code> is <code class="inline">class</code> where the number of columns is 4</p><pre><code class="makeup elixir" translate="no"></code></pre><p>Show <code class="inline">facet</code> by <code class="inline">:drv</code> and <code class="inline">:cyl</code> when <code class="inline">:x</code> is <code class="inline">displ</code> and <code class="inline">:y</code> is <code class="inline">hwy</code> and <code class="inline">:color</code> is <code class="inline">class</code></p><pre><code class="makeup elixir" translate="no"></code></pre><p>Compare approach above from <code class="inline">facet</code> function in Vegalite</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="2-introduction.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Chapter 2 - Introduction
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="appendix.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Appendix
        </span>
      </a>

  </div>
</div>
      <footer class="footer">

        <p>
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.0) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
